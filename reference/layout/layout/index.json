{"route":"/docs/reference/layout/layout/","title":"Layout","description":"Documentation for the `layout` function.","part":null,"outline":[{"id":"summary","name":"概要","children":[]},{"id":"parameters","name":"引数","children":[{"id":"parameters-func","name":"func","children":[]}]}],"body":{"kind":"func","content":{"path":[],"name":"layout","title":"Layout","keywords":[],"oneliner":"現在の外側のコンテナ（存在しなければページ）の寸法（幅と高さ）へのアクセスを提供します。","element":false,"contextual":false,"deprecationMessage":null,"deprecationUntil":null,"details":[{"kind":"html","content":"<p>現在の外側のコンテナ（存在しなければページ）の寸法（幅と高さ）へのアクセスを提供します。</p>\n<p><code>width</code>と<code>height</code>という<a href=\"/docs/reference/layout/length/\" title=\"`length`\"><code>length</code></a>型のキーを持つ辞書を単一の引数として受け取る関数を受け付けます。\n関数には<a href=\"/docs/reference/context/\" title=\"context\">context</a>が渡されるため、<code>context</code>キーワードと組み合わせて使用する必要はありません。\nこれが以下の例で<a href=\"/docs/reference/layout/measure/\" title=\"`measure`\"><code>measure</code></a>が呼び出せる理由です。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">let</span> text <span class=\"typ-op\">=</span> <span class=\"typ-func\">lorem</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">30</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">layout</span><span class=\"typ-punct\">(</span>size <span class=\"typ-op\">=&gt;</span> <span class=\"typ-punct\">[</span>\n  <span class=\"typ-key\">#</span><span class=\"typ-key\">let</span> <span class=\"typ-punct\">(</span>height<span class=\"typ-punct\">,</span><span class=\"typ-punct\">)</span> <span class=\"typ-op\">=</span> <span class=\"typ-func\">measure</span><span class=\"typ-punct\">(</span>\n    width<span class=\"typ-punct\">:</span> size<span class=\"typ-punct\">.</span>width<span class=\"typ-punct\">,</span>\n    text<span class=\"typ-punct\">,</span>\n  <span class=\"typ-punct\">)</span>\n  This text is <span class=\"typ-pol\">#</span><span class=\"typ-pol\">height</span> high with\n  the current page width: <span class=\"typ-escape\">\\</span>\n  <span class=\"typ-pol\">#</span><span class=\"typ-pol\">text</span>\n<span class=\"typ-punct\">]</span><span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/cc7bcca62e697ffb30df3438570db1ab.png\" alt=\"Preview\"></div></div>\n<p><code>layout</code>関数はコンテンツに<a href=\"/docs/reference/layout/block/\">ブロック</a>レベルのコンテナであることを強制するため、そのコンテナ内部でページを基準とした配置や改ページはできないことに注意してください。</p>\n<p>例えば、幅が<code><span class=\"typ-num\">800pt</span></code>で高さが<code><span class=\"typ-num\">400pt</span></code>のボックスの中から<code>layout</code>が呼び出されたとすると、指定された関数には<code><span class=\"typ-punct\">(</span>width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">800pt</span><span class=\"typ-punct\">,</span> height<span class=\"typ-punct\">:</span> <span class=\"typ-num\">400pt</span><span class=\"typ-punct\">)</span></code>という引数が与えられます。\nページに直接置かれた場合は、ページの寸法からそのマージンを引いたものを受け取ります。\nこれは主に<a href=\"/docs/reference/layout/measure/\">測定</a>と組み合わせるときに便利です。</p>\n<p>To retrieve the <em>remaining</em> height of the page rather than its full size,\nyou can wrap your <code>layout</code> call in a <code><span class=\"typ-func\">block</span><span class=\"typ-punct\">(</span>height<span class=\"typ-punct\">:</span> <span class=\"typ-num\">1fr</span><span class=\"typ-punct\">)</span></code>. This works\nbecause the block automatically grows to fill the remaining space (see the\n<a href=\"/docs/reference/layout/fraction/\" title=\"fraction\">fraction</a> documentation for more details).</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">set</span> <span class=\"typ-func\">page</span><span class=\"typ-punct\">(</span>height<span class=\"typ-punct\">:</span> <span class=\"typ-num\">150pt</span><span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">lorem</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">20</span><span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">block</span><span class=\"typ-punct\">(</span>height<span class=\"typ-punct\">:</span> <span class=\"typ-num\">1fr</span><span class=\"typ-punct\">,</span> <span class=\"typ-func\">layout</span><span class=\"typ-punct\">(</span>size <span class=\"typ-op\">=&gt;</span> <span class=\"typ-punct\">[</span>\n  Remaining height: <span class=\"typ-pol\">#</span><span class=\"typ-pol\">size</span><span class=\"typ-punct\">.</span><span class=\"typ-pol\">height</span>\n<span class=\"typ-punct\">]</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/287861b8e3129cb301b74afa92ff7a07.png\" alt=\"Preview\"></div></div>\n<p>この関数は、<a href=\"/docs/reference/layout/ratio/\" title=\"`ratio`\"><code>ratio</code></a>を固定長に変換するためにも利用できます。\nこれは独自のレイアウト抽象化を構築する際に重宝するかもしれません。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-func\">#</span><span class=\"typ-func\">layout</span><span class=\"typ-punct\">(</span>size <span class=\"typ-op\">=&gt;</span> <span class=\"typ-punct\">{</span>\n  <span class=\"typ-key\">let</span> half <span class=\"typ-op\">=</span> <span class=\"typ-num\">50%</span> <span class=\"typ-op\">*</span> size<span class=\"typ-punct\">.</span>width\n  <span class=\"typ-punct\">[</span>Half a page is <span class=\"typ-pol\">#</span><span class=\"typ-pol\">half</span> wide.<span class=\"typ-punct\">]</span>\n<span class=\"typ-punct\">}</span><span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/d40a0e3eb100447da2f5971d71a9a270.png\" alt=\"Preview\"></div></div>\n<p><code>layout</code>が提供する幅と高さは、対象ページの寸法が<code><span class=\"typ-key\">auto</span></code>に設定されていると無限大になりうることに注意してください。</p>"}],"self":false,"params":[{"name":"func","details":[{"kind":"html","content":"<p>外側のコンテナの大きさと一緒に呼び出す関数。\n戻り値は文書に表示されます。</p>\n<p>コンテナの大きさは<code>width</code>と<code>height</code>のキーを持つ<a href=\"/docs/reference/foundations/dictionary/\" title=\"dictionary\">dictionary</a>として与えられます。</p>\n<p>この関数は、<code>layout</code> によって返されるコンテンツが文書中に現れるたびに呼び出されます。\nこれによりそのコンテナの寸法に依存するコンテンツの生成が可能になります。</p>"}],"types":["function"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false}],"returns":["content"],"scope":[]}}}