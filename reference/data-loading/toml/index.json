{"route":"/docs/reference/data-loading/toml/","title":"TOML","description":"Documentation for the `toml` function.","part":null,"outline":[{"id":"summary","name":"概要","children":[]},{"id":"例","name":"例","children":[]},{"id":"conversion","name":"Conversion","children":[{"id":"注意事項","name":"注意事項","children":[]}]},{"id":"parameters","name":"引数","children":[{"id":"parameters-source","name":"source","children":[]}]},{"id":"definitions","name":"定義","children":[{"id":"definitions-decode","name":"Decode TOML","children":[{"id":"definitions-decode-data","name":"data","children":[]}]},{"id":"definitions-encode","name":"Encode TOML","children":[{"id":"definitions-encode-value","name":"value","children":[]},{"id":"definitions-encode-pretty","name":"pretty","children":[]}]}]}],"body":{"kind":"func","content":{"path":[],"name":"toml","title":"TOML","keywords":[],"oneliner":"TOMLファイルから構造化データを読み込む。","element":false,"contextual":false,"deprecationMessage":null,"deprecationUntil":null,"details":[{"kind":"html","content":"<p>TOMLファイルから構造化データを読み込む。</p>\n<p>読み込むファイルには有効なTOMLテーブルが含まれていなければなりません。\nTOMLの値は、<a href=\"#conversion\">下の表</a>に示す対応するTypstの値に変換されます。</p>\n<p>この関数はTOMLテーブルに対応する辞書を返します。</p>\n<p>この例におけるTOMLファイルは、\n<code>title</code>、<code>version</code>、および<code>authors</code>のキーを持つテーブルで構成されています。</p>\n<h2 id=\"例\">例</h2>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">let</span> details <span class=\"typ-op\">=</span> <span class=\"typ-func\">toml</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;details.toml&quot;</span><span class=\"typ-punct\">)</span>\n\nTitle: <span class=\"typ-pol\">#</span><span class=\"typ-pol\">details</span><span class=\"typ-punct\">.</span><span class=\"typ-pol\">title</span> <span class=\"typ-escape\">\\</span>\nVersion: <span class=\"typ-pol\">#</span><span class=\"typ-pol\">details</span><span class=\"typ-punct\">.</span><span class=\"typ-pol\">version</span> <span class=\"typ-escape\">\\</span>\nAuthors: <span class=\"typ-punct\">#</span><span class=\"typ-punct\">(</span>details<span class=\"typ-punct\">.</span>authors\n  <span class=\"typ-punct\">.</span><span class=\"typ-func\">join</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;, &quot;</span><span class=\"typ-punct\">,</span> last<span class=\"typ-punct\">:</span> <span class=\"typ-str\">&quot; and &quot;</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/7f6e9fac705651fafb6c8a26435ab058.png\" alt=\"Preview\"></div></div>\n<h2 id=\"conversion\">変換の詳細</h2>\n<p>まず、TOML文書はテーブルです。その他の値はテーブルに入れて\nエンコード/デコードする必要があります。</p>\n<table><thead><tr><th>TOMLの値</th><th>Typstへの変換先</th></tr></thead><tbody>\n<tr><td>string</td><td><a href=\"/docs/reference/foundations/str/\" title=\"`str`\"><code>str</code></a></td></tr>\n<tr><td>integer</td><td><a href=\"/docs/reference/foundations/int/\" title=\"`int`\"><code>int</code></a></td></tr>\n<tr><td>float</td><td><a href=\"/docs/reference/foundations/float/\" title=\"`float`\"><code>float</code></a></td></tr>\n<tr><td>boolean</td><td><a href=\"/docs/reference/foundations/bool/\" title=\"`bool`\"><code>bool</code></a></td></tr>\n<tr><td>datetime</td><td><a href=\"/docs/reference/foundations/datetime/\" title=\"`datetime`\"><code>datetime</code></a></td></tr>\n<tr><td>array</td><td><a href=\"/docs/reference/foundations/array/\" title=\"`array`\"><code>array</code></a></td></tr>\n<tr><td>table</td><td><a href=\"/docs/reference/foundations/dictionary/\" title=\"`dictionary`\"><code>dictionary</code></a></td></tr>\n</tbody></table>\n<table><thead><tr><th>Typstの値</th><th>TOMLへの変換先</th></tr></thead><tbody>\n<tr><td>TOMLから変換できる型</td><td>対応するTOML値</td></tr>\n<tr><td><code><span class=\"typ-key\">none</span></code></td><td>無視</td></tr>\n<tr><td><a href=\"/docs/reference/foundations/bytes/\" title=\"`bytes`\"><code>bytes</code></a></td><td><a href=\"/docs/reference/foundations/repr/\" title=\"`repr`\"><code>repr</code></a>経由の文字列</td></tr>\n<tr><td><a href=\"/docs/reference/foundations/symbol/\" title=\"`symbol`\"><code>symbol</code></a></td><td>文字列</td></tr>\n<tr><td><a href=\"/docs/reference/foundations/content/\" title=\"`content`\"><code>content</code></a></td><td>コンテンツを記述するテーブル</td></tr>\n<tr><td>その他の型（<a href=\"/docs/reference/layout/length/\" title=\"`length`\"><code>length</code></a>など）</td><td><a href=\"/docs/reference/foundations/repr/\" title=\"`repr`\"><code>repr</code></a>経由の文字列</td></tr>\n</tbody></table>\n<h3 id=\"注意事項\">注意事項</h3>\n<ul>\n<li>\n<p>2<sup>63</sup>-1より大きい（または-2<sup>63</sup>より小さい）TOML整数は\nTypstで損失なく表現できず、\n<a href=\"https://toml.io/en/v1.0.0#integer\">仕様</a>に従ってエラーになります。</p>\n</li>\n<li>\n<p><code>bytes</code>は性能と可読性のためTOML配列としてはエンコードされません。\nバイナリデータには<a href=\"/docs/reference/data-loading/cbor/#definitions-encode\" title=\"`cbor.encode`\"><code>cbor.encode</code></a>を検討してください。</p>\n</li>\n<li>\n<p><code>repr</code>関数は<a href=\"/docs/reference/foundations/repr/#debugging-only\">デバッグ目的のみ</a>で、\n出力の安定性はTypstのバージョン間で保証されません。</p>\n</li>\n</ul>"}],"self":false,"params":[{"name":"source","details":[{"kind":"html","content":"<p>TOMLファイルの<a href=\"/docs/reference/syntax/#paths\">パス</a>、または生のTOMLバイト列。</p>"}],"types":["str","bytes"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false}],"returns":["dictionary"],"scope":[{"path":["toml"],"name":"decode","title":"Decode TOML","keywords":[],"oneliner":"TOMLの文字列やバイト列から構造化データを読み込む。","element":false,"contextual":false,"deprecationMessage":"`toml.decode`は非推奨です。代わりにバイト列を直接`toml`に渡してください。","deprecationUntil":"0.15.0","details":[{"kind":"html","content":"<p>TOMLの文字列やバイト列から構造化データを読み込む。</p>"}],"self":false,"params":[{"name":"data","details":[{"kind":"html","content":"<p>TOMLデータ。</p>"}],"types":["str","bytes"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false}],"returns":["dictionary"],"scope":[]},{"path":["toml"],"name":"encode","title":"Encode TOML","keywords":[],"oneliner":"構造化データをTOML文字列にエンコードする。","element":false,"contextual":false,"deprecationMessage":null,"deprecationUntil":null,"details":[{"kind":"html","content":"<p>構造化データをTOML文字列にエンコードする。</p>"}],"self":false,"params":[{"name":"value","details":[{"kind":"html","content":"<p>エンコード対象の値。</p>\n<p>TOML文書はテーブルなので、辞書のみが適しています。</p>"}],"types":["dictionary"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false},{"name":"pretty","details":[{"kind":"html","content":"<p>TOMLを整形表示するかどうか。</p>"}],"types":["bool"],"strings":[],"default":"<code><span class=\"typ-key\">true</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":false}],"returns":["str"],"scope":[]}]}}}