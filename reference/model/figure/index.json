{"route":"/docs/reference/model/figure/","title":"Figure","description":"Documentation for the `figure` function.","part":null,"outline":[{"id":"summary","name":"概要","children":[]},{"id":"例","name":"例","children":[]},{"id":"図表の動作","name":"図表の動作","children":[]},{"id":"キャプションの改変","name":"キャプションの改変","children":[]},{"id":"accessibility","name":"Accessibility","children":[]},{"id":"parameters","name":"引数","children":[{"id":"parameters-body","name":"body","children":[]},{"id":"parameters-alt","name":"alt","children":[]},{"id":"parameters-placement","name":"placement","children":[]},{"id":"parameters-scope","name":"scope","children":[]},{"id":"parameters-caption","name":"caption","children":[]},{"id":"parameters-kind","name":"kind","children":[]},{"id":"parameters-supplement","name":"supplement","children":[]},{"id":"parameters-numbering","name":"numbering","children":[]},{"id":"parameters-gap","name":"gap","children":[]},{"id":"parameters-outlined","name":"outlined","children":[]}]},{"id":"definitions","name":"定義","children":[{"id":"definitions-caption","name":"Caption","children":[{"id":"definitions-caption-position","name":"position","children":[]},{"id":"definitions-caption-separator","name":"separator","children":[]},{"id":"definitions-caption-body","name":"body","children":[]}]}]}],"body":{"kind":"func","content":{"path":[],"name":"figure","title":"Figure","keywords":[],"oneliner":"任意でキャプションを持つ図表。","element":true,"contextual":false,"deprecationMessage":null,"deprecationUntil":null,"details":[{"kind":"html","content":"<p>任意でキャプションを持つ図表。</p>\n<p>自動的にその種類を検出し、それぞれに応じて番号付けします。\n例えば、画像を含む図表は表を含む図表とは別々に番号が付けられます。</p>\n<h2 id=\"例\">例</h2>\n<p>以下の例は、画像を含む基本的な図表を示しています。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-ref\">@glacier</span> shows a glacier. Glaciers\nare complex systems.\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">image</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;glacier.jpg&quot;</span><span class=\"typ-punct\">,</span> width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">80%</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>A curious figure.<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span> <span class=\"typ-label\">&lt;glacier&gt;</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/b9dc3c275cd6f020dfa180755d3cdd2e.png\" alt=\"Preview\"></div></div>\n<p>図表に <a href=\"/docs/reference/model/table/\">tables</a> を挿入してキャプションを付けることもできます。\n図表は表を含むことを検出し、自動的に別のカウンターを使用します。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">table</span><span class=\"typ-punct\">(</span>\n    columns<span class=\"typ-punct\">:</span> <span class=\"typ-num\">4</span><span class=\"typ-punct\">,</span>\n    <span class=\"typ-punct\">[</span>t<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span> <span class=\"typ-punct\">[</span>1<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span> <span class=\"typ-punct\">[</span>2<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span> <span class=\"typ-punct\">[</span>3<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n    <span class=\"typ-punct\">[</span>y<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span> <span class=\"typ-punct\">[</span>0.3s<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span> <span class=\"typ-punct\">[</span>0.4s<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span> <span class=\"typ-punct\">[</span>0.8s<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  <span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>Timing results<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/fd168e26293d3b952840ef04aba38cf6.png\" alt=\"Preview\"></div></div>\n<p>この動作は、図表の種類である <code>kind</code> を明示的に指定することで上書き可能です。\n同じ種類の図表は全て共通のカウンターを共有します。</p>\n<h2 id=\"図表の動作\">図表の動作</h2>\n<p>デフォルトでは、図表はコンテンツの流れの中に配置されます。\n図表をページの上部または下部に配置するには、<a href=\"/docs/reference/model/figure/#parameters-placement\"><code>placement</code></a>引数を使用します。</p>\n<p>図表が大きすぎてそのコンテンツがページをまたいで分割可能な場合（例えば大きな表が含まれている場合）、このshowルールで図表自体もページをまたいで分割可能です。</p>\n<pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">show</span> <span class=\"typ-func\">figure</span><span class=\"typ-punct\">:</span> <span class=\"typ-key\">set</span> <span class=\"typ-func\">block</span><span class=\"typ-punct\">(</span>breakable<span class=\"typ-punct\">:</span> <span class=\"typ-key\">true</span><span class=\"typ-punct\">)</span>\n</code></pre>\n<p>分割できるブロックと分割できないブロックの詳細については、<a href=\"/docs/reference/layout/block/#parameters-breakable\">block</a>のドキュメントを参照してください。</p>\n<h2 id=\"キャプションの改変\">キャプションの改変</h2>\n<p>図表のキャプションの外観は、関連するキャプション機能で改変できます。\n以下の例では、全てのキャプションを斜体で強調しています。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">show</span> figure<span class=\"typ-punct\">.</span><span class=\"typ-func\">caption</span><span class=\"typ-punct\">:</span> <span class=\"typ-func\">emph</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">rect</span><span class=\"typ-punct\">[</span>Hello<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>I am emphasized!<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/fd76214814edd5d9a3611f40e27fda0a.png\" alt=\"Preview\"></div></div>\n<p><a href=\"/docs/reference/foundations/function/#definitions-where\"><code>where</code></a>セレクターを使うことで、このようなルールを特定の種類の図表に適用可能です。\n例えば、図表の種類が表の場合はキャプションを表の上に配置し、他の種類ではキャプションを下に配置するには、次のようなshow-setルールを記述します。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">show</span> figure<span class=\"typ-punct\">.</span><span class=\"typ-func\">where</span><span class=\"typ-punct\">(</span>\n  kind<span class=\"typ-punct\">:</span> table\n<span class=\"typ-punct\">)</span><span class=\"typ-punct\">:</span> <span class=\"typ-key\">set</span> figure<span class=\"typ-punct\">.</span><span class=\"typ-func\">caption</span><span class=\"typ-punct\">(</span>position<span class=\"typ-punct\">:</span> top<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">table</span><span class=\"typ-punct\">(</span>columns<span class=\"typ-punct\">:</span> <span class=\"typ-num\">2</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">[</span>A<span class=\"typ-punct\">]</span><span class=\"typ-punct\">[</span>B<span class=\"typ-punct\">]</span><span class=\"typ-punct\">[</span>C<span class=\"typ-punct\">]</span><span class=\"typ-punct\">[</span>D<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>I&#39;m up here<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/e455d8faf40a203e10d4562c478231f4.png\" alt=\"Preview\"></div></div>\n<h2 id=\"accessibility\">Accessibility</h2>\n<p>You can use the <a href=\"/docs/reference/model/figure/#parameters-alt\"><code>alt</code></a> parameter to provide an <a href=\"/docs/guides/accessibility/#textual-representations\">alternative\ndescription</a> of the figure\nfor screen readers and other Assistive Technology (AT). Refer to <a href=\"/docs/reference/model/figure/#parameters-alt\">its\ndocumentation</a> to learn more.</p>\n<p>You can use figures to add alternative descriptions to paths, shapes, or\nvisualizations that do not have their own <code>alt</code> parameter. If your graphic\nis purely decorative and does not have a semantic meaning, consider wrapping\nit in <a href=\"/docs/reference/pdf/artifact/\" title=\"`pdf.artifact`\"><code>pdf.artifact</code></a> instead, which will hide it from AT when exporting to\nPDF.</p>\n<p>AT will always read the figure at the point where it appears in the\ndocument, regardless of its <a href=\"/docs/reference/model/figure/#parameters-placement\"><code>placement</code></a>. Put its markup\nwhere it would make the most sense in the reading order.</p>"}],"self":false,"params":[{"name":"body","details":[{"kind":"html","content":"<p>図表のコンテンツ。多くの場合、 <a href=\"/docs/reference/visualize/image/\" title=\"image\">image</a> が使われます。</p>"}],"types":["content"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false},{"name":"alt","details":[{"kind":"html","content":"<p>An alternative description of the figure.</p>\n<p>When you add an alternative description, AT will read both it and the\ncaption (if any). However, the content of the figure itself will be\nskipped.</p>\n<p>When the body of your figure is an <a href=\"/docs/reference/visualize/image/\">image</a> with its own <code>alt</code>\ntext set, this parameter should not be used on the figure element.\nLikewise, do not use this parameter when the figure contains a table,\ncode, or other content that is already accessible. In such cases, the\ncontent of the figure will be read by AT, and adding an alternative\ndescription would lead to a loss of information.</p>\n<p>You can learn how to write good alternative descriptions in the\n<a href=\"/docs/guides/accessibility/#textual-representations\">Accessibility Guide</a>.</p>"}],"types":["none","str"],"strings":[],"default":"<code><span class=\"typ-key\">none</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"placement","details":[{"kind":"html","content":"<p>ページ上における図表の配置。</p>\n<ul>\n<li><code><span class=\"typ-key\">none</span></code>： 他のコンテンツと同様に書かれた場所に置かれる。</li>\n<li><code><span class=\"typ-key\">auto</span></code>： <code>top</code> か <code>bottom</code> の近い方に置かれる。</li>\n<li><code>top</code>： ページの上部に置かれる。</li>\n<li><code>bottom</code>： ページの下部に置かれる。</li>\n</ul>\n<p>本文のコンテンツと図表の間隔は<code>place</code>関数の <a href=\"/docs/reference/layout/place/#parameters-clearance\"><code>clearance</code></a> 引数によって制御します。</p>"},{"kind":"example","content":{"body":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">set</span> <span class=\"typ-func\">page</span><span class=\"typ-punct\">(</span>height<span class=\"typ-punct\">:</span> <span class=\"typ-num\">200pt</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-key\">#</span><span class=\"typ-key\">show</span> <span class=\"typ-func\">figure</span><span class=\"typ-punct\">:</span> <span class=\"typ-key\">set</span> <span class=\"typ-func\">place</span><span class=\"typ-punct\">(</span>\n  clearance<span class=\"typ-punct\">:</span> <span class=\"typ-num\">1em</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-heading\">= Introduction</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  placement<span class=\"typ-punct\">:</span> bottom<span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>A glacier<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  <span class=\"typ-func\">image</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;glacier.jpg&quot;</span><span class=\"typ-punct\">,</span> width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">60%</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">lorem</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">60</span><span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/836b68045cf729130a332f4422de1824-0.png\" alt=\"Preview page 1\"><img src=\"/docs/assets/836b68045cf729130a332f4422de1824-1.png\" alt=\"Preview page 2\"></div></div>","title":null}}],"types":["none","auto","alignment"],"strings":[],"default":"<code><span class=\"typ-key\">none</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"scope","details":[{"kind":"html","content":"<p>どの包含スコープに対して図を配置するか。</p>\n<p>これを<code><span class=\"typ-str\">&quot;parent&quot;</span></code>に設定すると、段組みをまたいで、ページの幅を全て使用した図表を作成します。</p>\n<p>もし<code>placement</code>を<code><span class=\"typ-key\">none</span></code>とした場合には、何の効果もありません。</p>"},{"kind":"example","content":{"body":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">set</span> <span class=\"typ-func\">page</span><span class=\"typ-punct\">(</span>height<span class=\"typ-punct\">:</span> <span class=\"typ-num\">250pt</span><span class=\"typ-punct\">,</span> columns<span class=\"typ-punct\">:</span> <span class=\"typ-num\">2</span><span class=\"typ-punct\">)</span>\n\n<span class=\"typ-heading\">= Introduction</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  placement<span class=\"typ-punct\">:</span> bottom<span class=\"typ-punct\">,</span>\n  scope<span class=\"typ-punct\">:</span> <span class=\"typ-str\">&quot;parent&quot;</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>A glacier<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  <span class=\"typ-func\">image</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;glacier.jpg&quot;</span><span class=\"typ-punct\">,</span> width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">60%</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">lorem</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">60</span><span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/ff35f92bd3477ddda661809e2666a0ef-0.png\" alt=\"Preview page 1\"><img src=\"/docs/assets/ff35f92bd3477ddda661809e2666a0ef-1.png\" alt=\"Preview page 2\"></div></div>","title":null}}],"types":["str"],"strings":[{"string":"column","details":"<p>現在の列に配置する。</p>"},{"string":"parent","details":"<p>親要素に対して相対的な位置に配置され、コンテンツが全ての列にまたがって表示されます。</p>"}],"default":"<code><span class=\"typ-str\">&quot;column&quot;</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"caption","details":[{"kind":"html","content":"<p>図表のキャプション。</p>"}],"types":["none","content"],"strings":[],"default":"<code><span class=\"typ-key\">none</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"kind","details":[{"kind":"html","content":"<p>図表の種類。</p>\n<p>同じ種類の全ての図表は共通のカウンターを共有します。</p>\n<p><code><span class=\"typ-key\">auto</span></code> に設定された場合、図形はその中で記述されているものの種類に基づいて、自動的にその種類の決定を試みます。\n自動的に検出される種類は、<a href=\"/docs/reference/model/table/\">table</a>と<a href=\"/docs/reference/text/raw/\">code</a>です。\nそれ以外の場合は<a href=\"/docs/reference/visualize/image/\" title=\"image\">image</a>と推測されます。</p>\n<p>これを <code><span class=\"typ-key\">auto</span></code> 以外に設定すると、自動検出が上書きされます。\n以下のような場合に便利です。</p>\n<ul>\n<li><a href=\"/docs/reference/visualize/image/\" title=\"image\">image</a>や<a href=\"/docs/reference/model/table/\" title=\"table\">table</a>、<a href=\"/docs/reference/text/raw/\">code</a>以外のカスタム図表を作りたい場合</li>\n<li>コンテンツに関わらず特定のカウンターを強制的に使用したい場合</li>\n</ul>\n<p>種類は、要素関数または文字列に設定できます。\n<a href=\"/docs/reference/model/table/\"><code>table</code></a>、<a href=\"/docs/reference/text/raw/\"><code>raw</code></a>、<a href=\"/docs/reference/visualize/image/\"><code>image</code></a>以外の要素関数に設定した場合は、図表の補足語（supplement）を手動で指定する必要があります。</p>"},{"kind":"example","content":{"body":"<div class=\"previewed-code\"><pre><code><span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">circle</span><span class=\"typ-punct\">(</span>radius<span class=\"typ-punct\">:</span> <span class=\"typ-num\">10pt</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>A curious atom.<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  kind<span class=\"typ-punct\">:</span> <span class=\"typ-str\">&quot;atom&quot;</span><span class=\"typ-punct\">,</span>\n  supplement<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>Atom<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/82712152d3e540b0bd0e61dfb58e2fcd.png\" alt=\"Preview\"></div></div>","title":"Customizing the figure kind"}},{"kind":"html","content":"<p>If you want to modify a counter to skip a number or reset the counter,\nyou can access the <a href=\"/docs/reference/introspection/counter/\" title=\"counter\">counter</a> of each kind of figure with a\n<a href=\"/docs/reference/foundations/function/#definitions-where\"><code>where</code></a> selector:</p>\n<ul>\n<li>For <a href=\"/docs/reference/model/table/\">tables</a>: <code><span class=\"typ-func\">counter</span><span class=\"typ-punct\">(</span>figure<span class=\"typ-punct\">.</span><span class=\"typ-func\">where</span><span class=\"typ-punct\">(</span>kind<span class=\"typ-punct\">:</span> table<span class=\"typ-punct\">)</span><span class=\"typ-punct\">)</span></code></li>\n<li>For <a href=\"/docs/reference/visualize/image/\">images</a>: <code><span class=\"typ-func\">counter</span><span class=\"typ-punct\">(</span>figure<span class=\"typ-punct\">.</span><span class=\"typ-func\">where</span><span class=\"typ-punct\">(</span>kind<span class=\"typ-punct\">:</span> image<span class=\"typ-punct\">)</span><span class=\"typ-punct\">)</span></code></li>\n<li>For a custom kind: <code><span class=\"typ-func\">counter</span><span class=\"typ-punct\">(</span>figure<span class=\"typ-punct\">.</span><span class=\"typ-func\">where</span><span class=\"typ-punct\">(</span>kind<span class=\"typ-punct\">:</span> kind<span class=\"typ-punct\">)</span><span class=\"typ-punct\">)</span></code></li>\n</ul>"},{"kind":"example","content":{"body":"<div class=\"previewed-code\"><pre><code><span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">table</span><span class=\"typ-punct\">(</span>columns<span class=\"typ-punct\">:</span> <span class=\"typ-num\">2</span><span class=\"typ-punct\">,</span> <span class=\"typ-math-delim\">$</span>n<span class=\"typ-math-delim\">$</span><span class=\"typ-punct\">,</span> <span class=\"typ-math-delim\">$</span>1<span class=\"typ-math-delim\">$</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>The first table.<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">counter</span><span class=\"typ-punct\">(</span>\n  figure<span class=\"typ-punct\">.</span><span class=\"typ-func\">where</span><span class=\"typ-punct\">(</span>kind<span class=\"typ-punct\">:</span> table<span class=\"typ-punct\">)</span>\n<span class=\"typ-punct\">)</span><span class=\"typ-punct\">.</span><span class=\"typ-func\">update</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">41</span><span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">table</span><span class=\"typ-punct\">(</span>columns<span class=\"typ-punct\">:</span> <span class=\"typ-num\">2</span><span class=\"typ-punct\">,</span> <span class=\"typ-math-delim\">$</span>n<span class=\"typ-math-delim\">$</span><span class=\"typ-punct\">,</span> <span class=\"typ-math-delim\">$</span>42<span class=\"typ-math-delim\">$</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>The 42nd table<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">rect</span><span class=\"typ-punct\">[</span>Image<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>Does not affect images<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/e37c23f2e763f8a755103e6fcd1dd0c5.png\" alt=\"Preview\"></div></div>","title":"Modifying the figure counter for specific kinds"}},{"kind":"html","content":"<p>To conveniently use the correct counter in a show rule, you can access\nthe <code>counter</code> field. There is an example of this in the documentation\n<a href=\"/docs/reference/model/figure/#definitions-caption-body\">of the <code>figure.caption</code> element's <code>body</code> field</a>.</p>"}],"types":["auto","str","function"],"strings":[],"default":"<code><span class=\"typ-key\">auto</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"supplement","details":[{"kind":"html","content":"<p>図表の補足語。</p>\n<p><code><span class=\"typ-key\">auto</span></code> に設定すると、図表は、種類や<a href=\"/docs/reference/text/text/#parameters-lang\">テキスト言語</a>に基づいて、正しい補足語を自動的に決定しようとします。\n独自の図表タイプを使用している場合は、補足語を手動で指定する必要があります。</p>\n<p>関数が指定された場合、その関数は指定された種類の最初の子孫要素（通常は図の本体）に渡され、コンテンツを返す必要があります。</p>"},{"kind":"example","content":{"body":"<div class=\"previewed-code\"><pre><code><span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-punct\">[</span>The contents of my figure!<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>My custom figure<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  supplement<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>Bar<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  kind<span class=\"typ-punct\">:</span> <span class=\"typ-str\">&quot;foo&quot;</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/fe8c37b3e778c5204de955fe9d51d5cd.png\" alt=\"Preview\"></div></div>","title":null}}],"types":["none","auto","content","function"],"strings":[],"default":"<code><span class=\"typ-key\">auto</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"numbering","details":[{"kind":"html","content":"<p>番号の付け方。<a href=\"/docs/reference/model/numbering/\">番号付けのパターンや関数</a>を受け付けます。</p>"}],"types":["none","str","function"],"strings":[],"default":"<code><span class=\"typ-str\">&quot;1&quot;</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"gap","details":[{"kind":"html","content":"<p>本文とキャプションの間の垂直方向の隙間。</p>"}],"types":["length"],"strings":[],"default":"<code><span class=\"typ-num\">0.65em</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"outlined","details":[{"kind":"html","content":"<p>図表を<a href=\"/docs/reference/model/outline/\" title=\"`outline`\"><code>outline</code></a>に表示するかどうか。</p>"}],"types":["bool"],"strings":[],"default":"<code><span class=\"typ-key\">true</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true}],"returns":["content"],"scope":[{"path":["figure"],"name":"caption","title":"Caption","keywords":[],"oneliner":"図のキャプション。 この要素は、全ての図や特定の種類の図のキャプションの外観を改変するために、 setルールやshowルールで使用可能です。","element":true,"contextual":false,"deprecationMessage":null,"deprecationUntil":null,"details":[{"kind":"html","content":"<p>図のキャプション。\nこの要素は、全ての図や特定の種類の図のキャプションの外観を改変するために、\nsetルールやshowルールで使用可能です。</p>\n<p>キャプションは、<code>pos</code>と<code>body</code>に加えて、図の<code>kind</code>や<code>supplement</code>、<code>counter</code>、<code>numbering</code>もフィールドとして提供します。\nこれらの要素を<a href=\"/docs/reference/foundations/function/#definitions-where\"><code>where</code></a>セレクターやshowルールで使用することで、独自のキャプションを構築できます。</p>"},{"kind":"example","content":{"body":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">show</span> figure<span class=\"typ-punct\">.</span><span class=\"typ-func\">caption</span><span class=\"typ-punct\">:</span> <span class=\"typ-func\">emph</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">rect</span><span class=\"typ-punct\">[</span>Hello<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>A rectangle<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/ffd45a7b793ed7875c6f4d1b596e1c88.png\" alt=\"Preview\"></div></div>","title":null}}],"self":false,"params":[{"name":"position","details":[{"kind":"html","content":"<p>図表の中のキャプションの位置。<code>top</code>や<code>bottom</code>を入力してください。</p>"},{"kind":"example","content":{"body":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">show</span> figure<span class=\"typ-punct\">.</span><span class=\"typ-func\">where</span><span class=\"typ-punct\">(</span>\n  kind<span class=\"typ-punct\">:</span> table\n<span class=\"typ-punct\">)</span><span class=\"typ-punct\">:</span> <span class=\"typ-key\">set</span> figure<span class=\"typ-punct\">.</span><span class=\"typ-func\">caption</span><span class=\"typ-punct\">(</span>position<span class=\"typ-punct\">:</span> top<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">table</span><span class=\"typ-punct\">(</span>columns<span class=\"typ-punct\">:</span> <span class=\"typ-num\">2</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">[</span>A<span class=\"typ-punct\">]</span><span class=\"typ-punct\">[</span>B<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>I&#39;m up here<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">rect</span><span class=\"typ-punct\">[</span>Hi<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>I&#39;m down here<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">table</span><span class=\"typ-punct\">(</span>columns<span class=\"typ-punct\">:</span> <span class=\"typ-num\">2</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">[</span>A<span class=\"typ-punct\">]</span><span class=\"typ-punct\">[</span>B<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> figure<span class=\"typ-punct\">.</span><span class=\"typ-func\">caption</span><span class=\"typ-punct\">(</span>\n    position<span class=\"typ-punct\">:</span> bottom<span class=\"typ-punct\">,</span>\n    <span class=\"typ-punct\">[</span>I&#39;m down here too!<span class=\"typ-punct\">]</span>\n  <span class=\"typ-punct\">)</span>\n<span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/21d14a9a26af4aa31312a9fcc145ee52.png\" alt=\"Preview\"></div></div>","title":null}}],"types":["alignment"],"strings":[],"default":"<code>bottom</code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"separator","details":[{"kind":"html","content":"<p>番号とキャプション名の間に表示する区切り文字。</p>\n<p><code><span class=\"typ-key\">auto</span></code>に設定すると、区切り文字は\n<a href=\"/docs/reference/text/text/#parameters-lang\">language</a>と<a href=\"/docs/reference/text/text/#parameters-region\">region</a>に応じて決まります。</p>"},{"kind":"example","content":{"body":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">set</span> figure<span class=\"typ-punct\">.</span><span class=\"typ-func\">caption</span><span class=\"typ-punct\">(</span>separator<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span> <span class=\"typ-escape\">---</span> <span class=\"typ-punct\">]</span><span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">rect</span><span class=\"typ-punct\">[</span>Hello<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>A rectangle<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/178ec0814a619978959f5da809bfc408.png\" alt=\"Preview\"></div></div>","title":null}}],"types":["auto","content"],"strings":[],"default":"<code><span class=\"typ-key\">auto</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"body","details":[{"kind":"html","content":"<p>キャプション名。</p>\n<p>独自のキャプションに改変するために\n<code>kind</code>、<code>supplement</code>、<code>counter</code>、<code>numbering</code>、<code>location</code>が同時に使えます。</p>"},{"kind":"example","content":{"body":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">show</span> figure<span class=\"typ-punct\">.</span><span class=\"typ-func\">caption</span><span class=\"typ-punct\">:</span> it <span class=\"typ-op\">=&gt;</span> <span class=\"typ-punct\">[</span>\n  <span class=\"typ-func\">#</span><span class=\"typ-func\">underline</span><span class=\"typ-punct\">(</span>it<span class=\"typ-punct\">.</span>body<span class=\"typ-punct\">)</span> |\n  <span class=\"typ-pol\">#</span><span class=\"typ-pol\">it</span><span class=\"typ-punct\">.</span><span class=\"typ-pol\">supplement</span>\n  <span class=\"typ-key\">#</span><span class=\"typ-key\">context</span> it<span class=\"typ-punct\">.</span>counter<span class=\"typ-punct\">.</span><span class=\"typ-func\">display</span><span class=\"typ-punct\">(</span>it<span class=\"typ-punct\">.</span>numbering<span class=\"typ-punct\">)</span>\n<span class=\"typ-punct\">]</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">rect</span><span class=\"typ-punct\">[</span>Hello<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>A rectangle<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/271203fbe1409c884010228b31516257.png\" alt=\"Preview\"></div></div>","title":null}}],"types":["content"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false}],"returns":["content"],"scope":[]}]}}}