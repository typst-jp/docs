{"route":"/docs/reference/introspection/location/","title":"Location","description":"Documentation for the Location type.","part":null,"outline":[{"id":"summary","name":"概要","children":[]},{"id":"locatable","name":"Locatable","children":[]},{"id":"definitions","name":"定義","children":[{"id":"definitions-page","name":"Page","children":[]},{"id":"definitions-position","name":"Position","children":[]},{"id":"definitions-page-numbering","name":"Page Numbering","children":[]}]}],"body":{"kind":"type","content":{"name":"location","title":"Location","keywords":[],"oneliner":"文書中の要素の識別。","details":"<p>文書中の要素の識別。</p>\n<p>locationは文書中の要素を一意に識別し、ページ中での絶対位置へのアクセスを提供します。\n<a href=\"/docs/reference/introspection/here/\" title=\"`here`\"><code>here</code></a>関数を用いて現在のロケーションを取得可能です。\nまた、検索したロケーションや表示された要素のロケーションは、コンテンツの<a href=\"/docs/reference/foundations/content/#definitions-location\"><code>location()</code></a>メソッドを使って取得できます。</p>\n<h2 id=\"locatable\">ロケータブル要素</h2>\n<p>ロケーションが自動的に割り当てられる要素は <em>ロケータブル</em> と呼ばれます。\n効率上の理由から、全ての要素がロケータブルであるわけではありません。</p>\n<ul>\n<li>\n<p><a href=\"/docs/reference/model/\">Modelカテゴリ</a>では、ほとんどの要素がロケータブルです。\nこれは<a href=\"/docs/reference/model/heading/\">見出し</a>や<a href=\"/docs/reference/model/figure/\">図表</a>などの意味的要素が内省で\nよく使われるためです。</p>\n</li>\n<li>\n<p><a href=\"/docs/reference/text/\">Textカテゴリ</a>では、<a href=\"/docs/reference/text/raw/\" title=\"`raw`\"><code>raw</code></a>要素と装飾要素\n<a href=\"/docs/reference/text/underline/\" title=\"`underline`\"><code>underline</code></a>, <a href=\"/docs/reference/text/overline/\" title=\"`overline`\"><code>overline</code></a>, <a href=\"/docs/reference/text/strike/\" title=\"`strike`\"><code>strike</code></a>, <a href=\"/docs/reference/text/highlight/\" title=\"`highlight`\"><code>highlight</code></a>がロケータブルです。</p>\n</li>\n<li>\n<p><a href=\"/docs/reference/introspection/\">Introspectionカテゴリ</a>では、<a href=\"/docs/reference/introspection/metadata/\" title=\"`metadata`\"><code>metadata</code></a>\n要素がロケータブルです。</p>\n</li>\n<li>\n<p>その他のカテゴリでは、多くの要素がロケータブルではありません。\n例外として、<a href=\"/docs/reference/math/equation/\" title=\"`math.equation`\"><code>math.equation</code></a>と<a href=\"/docs/reference/visualize/image/\" title=\"`image`\"><code>image</code></a>があります。</p>\n</li>\n</ul>\n<p>特定の要素がロケータブルかどうかは、<a href=\"/docs/reference/introspection/query/\" title=\"`query`\"><code>query</code></a>を試すことで確認できます。</p>\n<p>ロケータブルでない要素でも、ラベルが付いている場合は\nクエリで観測できることがあります。</p>","constructor":null,"scope":[{"path":["location"],"name":"page","title":"Page","keywords":[],"oneliner":"このlocationのページ番号を返します。","element":false,"contextual":false,"deprecationMessage":null,"deprecationUntil":null,"details":[{"kind":"html","content":"<p>このlocationのページ番号を返します。</p>\n<p>このlocationの<a href=\"/docs/reference/introspection/counter/\">ページカウンター</a>の値を返すのではなく、（1始まりの）実際のページ番号を返すことに注意してください。</p>\n<p>ページカウンターの値が知りたい場合は代わりに<code><span class=\"typ-func\">counter</span><span class=\"typ-punct\">(</span>page<span class=\"typ-punct\">)</span><span class=\"typ-punct\">.</span><span class=\"typ-func\">at</span><span class=\"typ-punct\">(</span>loc<span class=\"typ-punct\">)</span></code>を使用してください。</p>\n<p><a href=\"/docs/reference/introspection/here/\" title=\"`here`\"><code>here</code></a>と組み合わせることで現在のコンテキストにおける実際のページ番号が取得できます。</p>"},{"kind":"example","content":{"body":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">context</span> <span class=\"typ-punct\">[</span>\n  I am located on\n  page <span class=\"typ-func\">#</span><span class=\"typ-func\">here</span><span class=\"typ-punct\">(</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">.</span><span class=\"typ-func\">page</span><span class=\"typ-punct\">(</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-punct\">]</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/d13a1548b2d47ac4cb904c3f62c9c993.png\" alt=\"Preview\"></div></div>","title":null}}],"self":true,"params":[],"returns":["int"],"scope":[]},{"path":["location"],"name":"position","title":"Position","keywords":[],"oneliner":"このlocationのページ番号とx座標とy座標を辞書で返します。 ページ番号は1始まりで、座標はページの左上から測ります。","element":false,"contextual":false,"deprecationMessage":null,"deprecationUntil":null,"details":[{"kind":"html","content":"<p>このlocationのページ番号とx座標とy座標を辞書で返します。\nページ番号は1始まりで、座標はページの左上から測ります。</p>\n<p>ページ番号のみに興味がある場合は、代わりに<code>page()</code>を使用すると不要な処理を省略できます。</p>"}],"self":true,"params":[],"returns":["dictionary"],"scope":[]},{"path":["location"],"name":"page-numbering","title":"Page Numbering","keywords":[],"oneliner":"このlocationのページ番号の番号付けパターンを返します。 これにより、ページカウンターの表示する際に、その位置での番号付けを取得できます。 これは独自の索引やアウトラインを作成する場合に便利です。","element":false,"contextual":false,"deprecationMessage":null,"deprecationUntil":null,"details":[{"kind":"html","content":"<p>このlocationのページ番号の番号付けパターンを返します。\nこれにより、ページカウンターの表示する際に、その位置での番号付けを取得できます。\nこれは独自の索引やアウトラインを作成する場合に便利です。</p>\n<p>そのロケーションのページの番号付けが<code><span class=\"typ-key\">none</span></code>に設定されていた場合、<code><span class=\"typ-key\">none</span></code>を返します。</p>"}],"self":true,"params":[],"returns":["none","str","function"],"scope":[]}]}}}